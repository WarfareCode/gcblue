PROJECT(OPENALPP)
IF(UNIX)
  SET(HEADERDIRS /usr/include /usr/local/include)
ELSE(UNIX)
  SET(HEADERDIRS C:\)
ENDIF(UNIX)

SET(INCLUDEDIRS ../include)

IF(UNIX)
  FIND_PROGRAM(CCGNU_CONFIG ccgnu2-config)
  IF(CCGNU_CONFIG)
    SET(CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS} "-I`${CCGNU_CONFIG} --includes`")
    SET(CCGNU_FOUND 1)
  ENDIF(CCGNU_CONFIG)
ELSE(UNIX)
  SET(CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS})
ENDIF(UNIX)

IF(CCGNU_FOUND)
  FIND_PATH(PORTAUDIO_INCLUDE portaudio.h ${HEADERDIRS})
  IF(PORTAUDIO_INCLUDE)
    SET(INCLUDEDIRS ${INCLUDEDIRS} ${PORTAUDIO_INCLUDE})
    SET(PORTAUDIO_FOUND 1)
  ENDIF(PORTAUDIO_INCLUDE)

  FIND_PATH(VORBIS_INCLUDE vorbis/vorbisfile.h ${HEADERDIRS})
  IF(VORBIS_INCLUDE)
    SET(INCLUDEDIRS ${INCLUDEDIRS} ${VORBIS_INCLUDE})
    SET(VORBIS_FOUND 1)
  ENDIF(VORBIS_INCLUDE)
ENDIF(CCGNU_FOUND)

INCLUDE_DIRECTORIES(${INCLUDEDIRS})

IF(UNIX)
  SET(LIBDIRS /usr/lib /usr/local/lib)
ELSE(UNIX)
  SET(LIBDIRS C:\)
ENDIF(UNIX)
LINK_DIRECTORIES(${LIBDIRS})

SUBDIRS(src tests)
